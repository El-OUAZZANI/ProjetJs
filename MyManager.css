* { margin: 0; padding: 0; box-sizing: border-box; }
    :root{
      --primary:#4f46e5;
      --primary2:#8b5cf6;
      --secondary:#06b6d4;
      --success:#10b981;
      --danger:#ef4444;
      --warning:#f59e0b;

      --text:#0f172a;
      --muted:#64748b;
      --bg:#f6f7fb;
      --card:#ffffff;
      --border:#e5e7eb;

      --shadow: 0 10px 30px rgba(15, 23, 42, 0.08);
      --shadow2: 0 2px 12px rgba(15, 23, 42, 0.06);
      --radius: 14px;
    }

    body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; background: var(--bg); color: var(--text); }
    a { color: inherit; }

    /* Login */
    .login-container{ display:flex; justify-content:center; align-items:center; min-height:100vh;
      background: radial-gradient(900px 500px at 20% 10%, rgba(139,92,246,.35), transparent 55%),
                  radial-gradient(900px 500px at 80% 90%, rgba(6,182,212,.35), transparent 55%),
                  linear-gradient(135deg, var(--primary), var(--secondary));
    }
    .login-box{ background: var(--card); padding: 40px; border-radius: 18px; width:100%; max-width:420px; box-shadow: var(--shadow); }
    .login-box h2{ text-align:center; margin-bottom: 26px; }
    .form-group{ margin-bottom: 16px; }
    .form-group label{ display:block; margin-bottom: 8px; font-weight: 600; color: var(--text); }
    .form-group input{
      width:100%; padding: 12px 12px; border: 2px solid var(--border); border-radius: 10px;
      font-size: 14px; outline: none; background: white;
    }
    .form-group input:focus{ border-color: rgba(79,70,229,.7); box-shadow: 0 0 0 4px rgba(79,70,229,.12); }

    .btn{ width:100%; padding: 12px; border:none; border-radius: 10px; cursor:pointer; font-weight: 700; transition:.2s; }
    .btn-primary{ background: var(--primary); color:white; }
    .btn-primary:hover{ filter: brightness(0.95); transform: translateY(-1px); }

    /* App layout */
    .app-container{ display:none; min-height:100vh; }
    .app-container.active{ display:flex; }

    .sidebar{
      width: 250px; position: fixed; height: 100vh; overflow-y:auto; padding: 18px 14px;
      background: linear-gradient(180deg, rgba(79,70,229,1) 0%, rgba(139,92,246,1) 100%);
      color: white;
    }
    .sidebar-header{
      padding: 12px 10px 18px; border-bottom: 1px solid rgba(255,255,255,.15);
      display:flex; align-items:center; gap:10px;
    }
    .brand-badge{
      width: 38px; height: 38px; border-radius: 12px; background: rgba(255,255,255,.18);
      display:flex; align-items:center; justify-content:center;
      box-shadow: 0 8px 18px rgba(0,0,0,.12);
      font-weight: 900;
    }
    .sidebar-header h3{ font-size: 20px; }
    .sidebar-menu{ list-style:none; padding: 16px 0; }
    .sidebar-menu a{
      display:flex; align-items:center; gap: 12px;
      padding: 12px 12px; border-radius: 12px;
      color: rgba(255,255,255,.85); text-decoration:none;
      transition: .15s;
      margin-bottom: 6px;
    }
    .sidebar-menu a i{ width: 20px; text-align:center; opacity:.95; }
    .sidebar-menu a:hover{ background: rgba(255,255,255,.12); color:white; }
    .sidebar-menu a.active{
      background: rgba(255,255,255,.18);
      box-shadow: 0 10px 20px rgba(0,0,0,.12);
      color: white;
    }

    .navbar{
      position: fixed; top:0; left: 250px; right:0; height: 72px;
      background: rgba(255,255,255,.9); backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(229,231,235,.7);
      display:flex; align-items:center; justify-content: space-between;
      padding: 0 22px;
      z-index: 100;
    }
    .navbar h2{ font-size: 18px; font-weight: 800; }
    .navbar-right{ display:flex; align-items:center; gap: 12px; }

    .pill{
      background: white;
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 10px 12px;
      display:flex; align-items:center; gap: 10px;
      box-shadow: var(--shadow2);
    }
    .pill input{
      border:none; outline:none; width: 240px; font-size: 14px;
    }

    .lang-selector{ position: relative; }
    .lang-btn{
      background: white; border: 1px solid var(--border);
      padding: 10px 12px; border-radius: 12px;
      cursor: pointer; display:flex; align-items:center; gap: 8px;
      box-shadow: var(--shadow2);
    }
    .lang-dropdown{
      display:none; position:absolute; top: 100%; right: 0; margin-top: 8px;
      background: white; border: 1px solid var(--border);
      border-radius: 12px; box-shadow: var(--shadow);
      min-width: 170px; overflow:hidden;
    }
    .lang-dropdown.active{ display:block; }
    .lang-dropdown a{ display:block; padding: 11px 14px; text-decoration:none; color: var(--text); }
    .lang-dropdown a:hover{ background: #f1f5f9; }

    .btn-logout{
      background: var(--danger); color: white; border:none; cursor:pointer;
      padding: 10px 14px; border-radius: 12px;
      box-shadow: 0 10px 20px rgba(239,68,68,.18);
      font-weight: 800;
    }

    .main-content{
      margin-left: 250px; margin-top: 72px;
      padding: 22px;
      min-height: calc(100vh - 72px);
    }

    .page{ display:none; }
    .page.active{ display:block; animation: fadeIn .2s ease; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

    /* Cards + grids */
    .stats-grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 14px;
      margin-bottom: 14px;
    }
    .stat-card{
      background: var(--card);
      border: 1px solid rgba(229,231,235,.7);
      border-radius: var(--radius);
      padding: 18px;
      display:flex; justify-content: space-between; align-items:center;
      box-shadow: var(--shadow2);
    }
    .stat-info h3{ font-size: 28px; margin-bottom: 4px; }
    .stat-info p{ color: var(--muted); font-size: 13px; }
    .stat-icon{
      width: 52px; height: 52px; border-radius: 16px;
      display:flex; align-items:center; justify-content:center;
      color: white; font-size: 20px;
    }
    .icon-primary{ background: linear-gradient(135deg, var(--primary), var(--primary2)); }
    .icon-success{ background: linear-gradient(135deg, var(--success), #34d399); }
    .icon-warning{ background: linear-gradient(135deg, var(--warning), #fbbf24); }
    .icon-secondary{ background: linear-gradient(135deg, var(--secondary), #22d3ee); }
    .icon-danger{ background: linear-gradient(135deg, var(--danger), #fb7185); }
    .icon-muted{ background: linear-gradient(135deg, #64748b, #94a3b8); }

    .dashboard-toolbar{
      background: white;
      border: 1px solid rgba(229,231,235,.7);
      border-radius: var(--radius);
      padding: 12px;
      display:flex; gap: 10px; flex-wrap: wrap; align-items:center;
      box-shadow: var(--shadow2);
      margin-bottom: 14px;
    }
    .toolbar-group{
      display:flex; gap: 8px; align-items:center;
      padding: 8px 10px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: #fff;
    }
    .toolbar-group label{ font-size: 12px; font-weight: 800; color: var(--muted); }
    .toolbar-group select{
      border:none; outline:none; padding: 6px 8px; font-size: 14px;
      background: transparent;
    }

    .charts-grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
      gap: 14px;
      margin-bottom: 14px;
    }
    .chart-card{
   
      background: white;
      border: 1px solid rgba(229,231,235,.7);
      border-radius: var(--radius);
      padding: 14px;
      box-shadow: var(--shadow2);
     height: 340px;          /* fixe */
  min-height: 340px;
  overflow: hidden;
    }
    .chart-card canvas{
  width: 100% !important;
  height: 280px !important;  /* fixe aussi le canvas */
  display: block;
}
    .chart-card h3{ font-size: 14px; margin-bottom: 10px; color: var(--text); font-weight: 900; }

    .dash-widgets{
      display:grid;
      grid-template-columns: 1.4fr 1fr;
      gap: 14px;
    }
    .widget{
      background: white;
      border: 1px solid rgba(229,231,235,.7);
      border-radius: var(--radius);
      padding: 14px;
      box-shadow: var(--shadow2);
    }
    .widget h3{ font-size: 14px; font-weight: 900; margin-bottom: 10px; }
    .mini-list{ display:flex; flex-direction: column; gap: 10px; }
    .mini-row{
      display:flex; align-items:center; justify-content: space-between; gap: 10px;
      padding: 10px; border: 1px solid var(--border); border-radius: 14px;
      background: #fff;
    }
    .mini-left{ display:flex; align-items:center; gap: 10px; min-width: 0; }
    .mini-left img{ width: 38px; height: 38px; border-radius: 12px; object-fit: cover; border: 1px solid var(--border); }
    .mini-left .t{ display:flex; flex-direction: column; min-width: 0; }
    .mini-left .t b{ font-size: 13px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 260px; }
    .mini-left .t span{ font-size: 12px; color: var(--muted); }
    .badge{
      font-size: 12px; font-weight: 900;
      padding: 6px 10px; border-radius: 999px;
      border: 1px solid var(--border);
      background: #fff;
    }
    .badge.success{ border-color: rgba(16,185,129,.35); background: rgba(16,185,129,.08); color: #065f46; }
    .badge.warning{ border-color: rgba(245,158,11,.35); background: rgba(245,158,11,.08); color: #92400e; }
    .badge.danger{ border-color: rgba(239,68,68,.35); background: rgba(239,68,68,.08); color: #7f1d1d; }
    .badge.muted{ border-color: rgba(100,116,139,.35); background: rgba(100,116,139,.08); color: #0f172a; }

    /* Tables */
    .table-container{
      background: white;
      border: 1px solid rgba(229,231,235,.7);
      border-radius: var(--radius);
      padding: 14px;
      box-shadow: var(--shadow2);
    }
    .table-header{
      display:flex; justify-content: space-between; gap: 10px; flex-wrap: wrap;
      margin-bottom: 12px; align-items: center;
    }
    .table-filters{ display:flex; gap: 8px; flex-wrap: wrap; align-items: center; }
    .search-box{
      padding: 10px 12px; border: 1px solid var(--border); border-radius: 12px;
      font-size: 14px; min-width: 260px; outline:none;
      box-shadow: var(--shadow2);
    }
    .select-filter{
      padding: 10px 12px; border: 1px solid var(--border); border-radius: 12px;
      font-size: 14px; outline:none; background: white;
      box-shadow: var(--shadow2);
    }
    .btn-add{
      background: var(--success); color: white; padding: 10px 12px;
      border:none; border-radius: 12px; cursor:pointer;
      display:flex; gap: 8px; align-items:center;
      font-weight: 900;
      box-shadow: 0 12px 22px rgba(16,185,129,.18);
    }
    .btn-add:hover{ filter: brightness(.95); transform: translateY(-1px); }

    table{ width:100%; border-collapse: collapse; overflow:hidden; border-radius: 12px; }
    thead{ background: #f1f5f9; }
    th, td{ padding: 12px; border-bottom: 1px solid rgba(229,231,235,.8); text-align:left; font-size: 14px; }
    th{ font-weight: 900; user-select: none; cursor:pointer; color: #0f172a; }
    tbody tr:hover{ background: #f8fafc; }

    .thumb{
      width: 42px; height: 42px; border-radius: 12px;
      object-fit: cover; border: 1px solid var(--border); background: #fff;
    }

    .action-btns{ display:flex; gap: 8px; }
    .btn-icon{
      padding: 9px 10px; border:none; border-radius: 12px;
      cursor:pointer; color:white; font-size: 13px;
      box-shadow: 0 10px 18px rgba(15,23,42,.08);
    }
    .btn-view{ background: var(--primary); }
    .btn-edit{ background: var(--warning); }
    .btn-delete{ background: var(--danger); }
    .btn-pdf{ background: #64748b; }

    .pagination{ display:flex; justify-content:center; gap: 8px; margin-top: 12px; flex-wrap: wrap; }
    .pagination button{
      padding: 8px 12px; border: 1px solid rgba(79,70,229,.35); background: white; color: var(--primary);
      border-radius: 12px; cursor: pointer; font-weight: 900;
    }
    .pagination button.active{ background: var(--primary); color:white; border-color: var(--primary); }
    .pagination button:disabled{ opacity:.5; cursor:not-allowed; }

    /* Modal */
    .modal{ display:none; position:fixed; inset:0; background: rgba(15,23,42,.55); z-index: 1000; align-items:center; justify-content:center; }
    .modal.active{ display:flex; }
    .modal-content{
      background: white; width: min(720px, 92vw);
      border-radius: 18px; padding: 18px;
      box-shadow: var(--shadow);
      max-height: 88vh; overflow:auto;
    }
    .modal-header{ display:flex; justify-content: space-between; align-items:center; margin-bottom: 10px; }
    .modal-header h3{ font-size: 16px; font-weight: 1000; }
    .modal-close{ border:none; background:transparent; font-size: 28px; cursor:pointer; color: var(--muted); }

    .form-row{ display:grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .form-field{ margin-bottom: 10px; }
    .form-field label{ display:block; font-size: 12px; font-weight: 900; color: var(--muted); margin-bottom: 6px; }
    .form-field input, .form-field select{
      width:100%; padding: 11px 12px; border: 1px solid var(--border); border-radius: 12px;
      outline:none; font-size: 14px; background: white;
    }
    .form-actions{ display:flex; gap: 10px; justify-content:flex-end; margin-top: 10px; }
    .btn-secondary{
      background: #0f172a; color:white; border:none; cursor:pointer;
      padding: 10px 14px; border-radius: 12px; font-weight: 900;
    }

    /* Details page */
    .details-wrap{
      background: white; border: 1px solid rgba(229,231,235,.7);
      border-radius: var(--radius);
      padding: 14px;
      box-shadow: var(--shadow2);
      display:grid; grid-template-columns: 1fr 1.2fr; gap: 14px;
    }
    .details-media{
      border: 1px solid var(--border);
      border-radius: 18px;
      overflow:hidden;
      background:#fff;
      display:flex; align-items:center; justify-content:center;
      min-height: 260px;
    }
    .details-media img{ width: 100%; height: 100%; object-fit: cover; display:block; }
    .details-card{
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 14px;
      background: #fff;
    }
    .details-title{
      display:flex; justify-content: space-between; align-items:flex-start; gap: 10px;
      margin-bottom: 10px;
    }
    .details-title h3{ font-size: 16px; font-weight: 1000; }
    .kv{ display:grid; grid-template-columns: 140px 1fr; gap: 10px; padding: 10px 0; border-bottom: 1px solid rgba(229,231,235,.8); }
    .kv b{ color: var(--muted); font-size: 12px; }
    .kv span{ font-size: 14px; word-break: break-word; }
    .details-actions{ display:flex; gap: 10px; flex-wrap: wrap; margin-top: 12px; }

    /* RTL support */
    html[dir="rtl"] body { font-family: "Segoe UI", Tahoma, Arial, sans-serif; }
    html[dir="rtl"] .sidebar-menu a { justify-content: flex-start; }
    html[dir="rtl"] .navbar-right { flex-direction: row-reverse; }
    html[dir="rtl"] .kv { grid-template-columns: 1fr 140px; }
    html[dir="rtl"] .kv b { text-align: right; }

    @media (max-width: 980px){
      .dash-widgets{ grid-template-columns: 1fr; }
      .details-wrap{ grid-template-columns: 1fr; }
      .pill input{ width: 160px; }
      .charts-grid{ grid-template-columns: 1fr; }
    }
    @media (max-width: 820px){
      .sidebar{ transform: translateX(-110%); }
      .navbar{ left: 0; }
      .main-content{ margin-left: 0; }
    }
